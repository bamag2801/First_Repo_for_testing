name: Build Flutter iOS App

 

on:

  push:

    branches:

      - main

 

jobs:

  build:

    runs-on: macos-latest

 

    steps:

    - name: Checkout code

      uses: actions/checkout@v2

 

    - name: Set up Flutter

      uses: subosito/flutter-action@v2

      with:

        flutter-version: 3.13.2

 

    - name: Install dependencies

      run: flutter pub get

 

    - name: Build iOS App

      run: flutter build ios --release

 

    - name: Archive iOS App

      uses: actions/upload-artifact@v2

      with:

        name: app-release

        path: build/ios/iphoneos/Runner.app

 

    - name: Get Artifact URL

      id: get_url

      run: echo "::set-output name=url::$(echo '${{ steps.build.outputs.artifacts }}' | jq -r '.app-release')"

 

    - name: Output URL

      run: echo "Download your iOS app from: ${{ steps.get_url.outputs.url }}"
